# URLS 

`urls.py` відповідає за маршрутизацію запитів від користувача до відповідного представлення (view). Це один із ключових файлів у проєкті, який дозволяє визначити, які URL-адреси будуть оброблятися та які функції або класи будуть викликані.

***1. Основи `urls.py`***

Django використовує **шаблон маршрутизації** (`URLconf`), де кожен маршрут (URL) прив'язаний до  певного представлення.

**Приклад базового `urls.py` у Django**

```python 
from django.urls import path 
from . import views 


urlpatterns = [
  path("", views.home, name="home"), # Головна сторінка
  path("about/", views.about, name="about"), # Сторінка "Про нас"
]
```

Тут кожен виклик `path()` створює маршрут, що відповідає певному представленню.

***2. Основні методи у `urls.py`***

Django дозволяє використовувати кілька методів для маршрутизації URL:

 - `path()` - **стандартний метод маршрутизації**
 Використовується для прив'язки статичних маршрутів або маршрутів із параметрами.
 ```python 
  path("blog/", views.blog_list, name="blog_list"),
```

- `re_path()` - **маршрутизація за регулярними виразами**
Якщо потрібно більш складне визначення маршруту, можна використовувати `re_path()`, який дозволяє використовувати **регулярні вирази**.
```python 
from django.urls import re_path 

re_path(r"^articles/(?P<year>[0-9]{4}/$)", views.articles_by_year),
```
Тут `<year>` - це параметр, що передається у представлення.

- `include()` - **підключення інших файлів `urls.py`**
Якщо у проекті є багато застосунків (apps), краще винести маршрутизацію кожного застосунку в окремий файл `urls.py` і підключати його через `include()`

```python
from django.urls import path, include

urlpatterns = [
  path("blog/", include("blog.urls")), # Підключення маршрутизації з apps "blog"
]
```

***3. Динамічні параметри у `path()`***
Django дозволяє передавати змінні у URL. Наприклад:

 - **Передача числового параметра**

```python
path("post/<int:id>/", views.post_detail, name="post_detail")
```
Тут `<int:id>` означає, що `id` має бути **цілим числом**

 - **Передача рядкового параметра**

```python
path("category/<str:slug>/", views.category_detail, name="category_detail"),
```

 - **Передача UUID**

Якщо  у моделі є **UUID**, його також можна передавати у маршрутах

```python 
path("user/<uuid:user_id>/", views.user_profile, name="user_profile")
```

Це корисно, якщо використовуються **унікальні індетифікатори** для об'єктів

***4. Іменовані маршрути***

Щоб не писати URL вручну у шаблонах, кожному маршруту можна дати **ім'я**

**Приклад**

```python
path("dashboard/", views.dashboard, name="dashboard"),
```

Використовується у шаблоні:

```html 
<a href="{% url 'dashboard' %}">На головну</a>
```

Використання у Python-коді:

```python
from django.urls import reverse


dashboard_url = reverse("dashboard")
```

**Перевага:** Якщо URL змінюється в `urls.py`, він автоматично оновиться у всіх шаблонах.

***5. Як підключити маршрути у проєкті?***

Файл `urls.py` існує **на двох рівнях**:

1. **Головний** `urls.py`(проект).
2. **Застосунковий** `urls.py` (для окремих застосунків).


***Висновок***

 - `urls.py` – це серце маршрутизації у Django.
 - Методи: `path()`, `re_path()`, `include()`.
 - Динамічні параметри: `<int:id>`, `<str:slug>`, `<uuid:user_id>`.
 - Іменовані маршрути (`name='route_name'`) дозволяють легко змінювати URL.
 - Обробка 404 та `redirect()` дозволяють покращити UX.
 - Підключення `urls.py` у застосунках спрощує структуру проєкту.
