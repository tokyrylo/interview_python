# –ó–Ω—ñ–º–æ–∫ (Memento)

## –°—É—Ç—å –ø–∞—Ç–µ—Ä–Ω—É

**Memento (–ó–Ω—ñ–º–æ–∫)** - —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞—Ç–∏ **–ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å–∞–Ω –æ–±'—î–∫—Ç–∞** –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è –π–æ–≥–æ —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó.
–Ü–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É **Undo/Redo**, –∞–±–æ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è "–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–∏—Ö —Ç–æ—á–æ–∫".

## –ü—Ä–æ–±–ª–µ–º–∞

–£—è–≤–∏–º–æ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –¥–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Ö–æ—á–µ –º–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –≤–µ—Ä—Å—ñ—ó —Ç–µ–∫—Å—Ç—É. –ê–ª–µ –º–∏ –Ω–µ —Ö–æ—á–µ–º–æ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–ª—è –æ–±'—î–∫—Ç–∞ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞, –ø–æ—Ä—É—à—É—é—á–∏ —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é.

## –†—ñ—à–µ–Ω–Ω—è

–ü–∞—Ç–µ—Ä–Ω `Memento` —Å—Ç–≤–æ—Ä—é—î –æ–∫—Ä–µ–º–∏–π –æ–±'—î–∫—Ç-–∑–Ω—ñ–º–æ–∫, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω —ñ–Ω—à–æ–≥–æ –æ–±'—î–∫—Ç–∞. –°–∞–º –æ–±'—î–∫—Ç-–æ–¥–µ—Ä–∂—É–≤–∞—á (originator) –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ü–µ–π –∑–Ω—ñ–º–æ–∫ —ñ –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ —Å–µ–±–µ –∑ –Ω—å–æ–≥–æ.

## –ü—Ä–∏–∫–ª–∞–¥

```python
# –ó–Ω—ñ–º–æ–∫ (—Å—Ç–∞–Ω)
class Memento:
    def __init__(self, text: str):
        self._text = text

    def get_saved_state(self) -> str:
        return self._text

# –û–¥–µ—Ä–∂—É–≤–∞—á (—Ä–µ–¥–∞–∫—Ç–æ—Ä)
class TextEditor:
    def __init__(self):
        self._text = ""

    def type(self, words: str):
        self._text += words

    def get_text(self):
        return self._text

    def save(self) -> Memento:
        return Memento(self._text)

    def restore(self, memento: Memento):
        self._text = memento.get_saved_state()

# –û–ø—ñ–∫—É–Ω (–∫–µ—Ä—É—î –∑–Ω—ñ–º–∫–∞–º–∏)
class History:
    def __init__(self):
        self._history = []

    def backup(self, memento: Memento):
        self._history.append(memento)

    def undo(self) -> Memento:
        if not self._history:
            return None
        return self._history.pop()

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
editor = TextEditor()
history = History()

editor.type("–ü—Ä–∏–≤—ñ—Ç, ")
history.backup(editor.save())

editor.type("—Å–≤—ñ—Ç!")
history.backup(editor.save())

editor.type(" –Ø –ª—é–±–ª—é Python üêç")

print("üìÑ –ü–æ—Ç–æ—á–Ω–∏–π —Ç–µ–∫—Å—Ç:", editor.get_text())  # –ü—Ä–∏–≤—ñ—Ç, —Å–≤—ñ—Ç! –Ø –ª—é–±–ª—é Python

# Undo
editor.restore(history.undo())
print("‚Ü©Ô∏è Undo 1:", editor.get_text())  # –ü—Ä–∏–≤—ñ—Ç, —Å–≤—ñ—Ç!

editor.restore(history.undo())
print("‚Ü©Ô∏è Undo 2:", editor.get_text())  # –ü—Ä–∏–≤—ñ—Ç,
```

## –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

 - –ö–æ–ª–∏, –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ **–≤—ñ–¥–∫–∞—Ç –∑–º—ñ–Ω**(Undo/Redo).
 - –ö–æ–ª–∏ –≤–∞–∂–ª–∏–≤–æ –∑–±–µ—Ä–µ–≥—Ç–∏ —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é - –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–ª—è –æ–±'—î–∫—Ç—É.
 - –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ **–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ —Ç–æ—á–∫–∏ —Å—Ç–∞–Ω—É**.

## –ü–µ—Ä–µ–≤–∞–≥–∏
 - –ù–µ –ø–æ—Ä—É—à—É—î —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é
 - –ü—Ä–æ—Å—Ç–µ –∑–±—Ä–µ–∂–µ–Ω–Ω—è —ñ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É.
 - –õ–µ–≥–∫–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –∑–º—ñ–Ω.

## –ù–µ–¥–æ–ª—ñ–∫–∏
 - –Ø–∫—â–æ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –≤–µ–ª–∏–∫–∏–π - –∑–Ω—ñ–º–∫–∏ –º–æ–∂—É—Ç—å –∑–∞–π–º–∞—Ç–∏ –±–∞–≥–∞—Ç–æ –ø–∞–º'—è—Ç—ñ.
 - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤–µ–ª–∏–∫–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∑–Ω—ñ–º–∫—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏–º.
 - –ù–µ –∑–∞–≤–∂–¥–∏ –æ—á–µ–≤–∏–¥–Ω–æ, —è–∫—ñ —á–∞—Å—Ç–∏–Ω–∏ —Å—Ç–∞–Ω—É –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ (–ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–ª–∞–Ω—É–≤–∞—Ç–∏).

## –ê–Ω–∞–ª–æ–≥—ñ—è –∑ –∂–∏—Ç—Ç—è

–Ø–∫—â–æ —Ç–∏ –ø—Ä–∞—Ü—é—î—à –Ω–∞–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —É Word –∞–±–æ Google Docs, –∫–æ–∂–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è - —Ü–µ **–∑–Ω—ñ–º–æ–∫**. –§—É–Ω–∫—Ü—ñ—è "**Undo**" - —Ü–µ –ø–æ —Å—É—Ç—ñ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–Ω—ñ–º–∫—É.

## –¢–∏–ø–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
 - –¢–µ–∫—Å—Ç–æ–≤—ñ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∏.
 - –Ü–≥—Ä–∏ (–∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä—ñ–≤–Ω—ñ–≤).
 - –§—ñ–Ω–∞–Ω—Å–æ–≤—ñ –ø—Ä–æ–≥—Ä–∞–º–º–∏ (–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —Å—Ç–∞–Ω—ñ–≤ —Ä–∞—Ö—É–Ω–∫—ñ–≤).
 - –û–±'—î–∫—Ç–∏ –∑ —á–∞—Å—Ç–æ –∑–º—ñ–Ω—é–≤–∞–Ω–∏–º —Å—Ç–∞–Ω–æ–º.
